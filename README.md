# Yandex Music → yt-dlp (Chrome-расширение)

Это Chrome-расширение помогает сформировать команду [yt-dlp](https://github.com/yt-dlp/yt-dlp) для использования на
сайте Яндекс Музыки.

## Требования

### yt-dlp (обязательно пропатченная версия)

Для работы с Яндекс Музыкой **необходима пропатченная версия yt-dlp**, исправляющая таймауты API из-за блокировки
HTTP-запросов к API.

Обязательная версия:

```
yt-dlp --version
2025.12.19.233017
```

Обсуждение и решение:
https://github.com/yt-dlp/yt-dlp/issues/15087

Ссылка на пропатченную версию (готовая сборка под Linux):
https://github.com/user-attachments/files/24273117/yt-dlp_mod-20251219.zip

После распаковки:

```bash
chmod +x yt-dlp
```

## Функционал

- Работает только на https://music.yandex.ru/
- Поддерживает:
    - страницу одного трека
    - альбомы
    - популярные треки исполнителя
- Парсит треки на открытой странице (без текущего плеера)
- Показывает список треков и позволяет выбрать нужные
- Формирует команду yt-dlp
- Копирует команду в буфер обмена

## Установка

1. Скачать файлы расширения
2. Установить расширение (стандартно для Chrome):
    - chrome://extensions
    - Developer mode
    - Load unpacked
    - Выбрать папку с файлами

## Как пользоваться

1. Открой станицу с треками на Яндекс Музыке
2. Нажми на иконку расширения
3. Выбери нужные треки
4. Нажми кнопку копирования команды
5. В буфере обмене готовая команда для вставки в терминал

### Опции

#### Remove track ID from filename

Если включено: `Исполнитель - Трек.mp3`

Если выключено (по умолчанию):`Исполнитель - Трек [id_трека].mp3`

#### Use Firefox cookies

Добавляет флаг: `--cookies-from-browser firefox`

Нужно только если сервис требует авторизацию или скачивание не работает без куки.

Примечания:

1. Требуется авторизоваться в firefox под своей учеткой сервиса.
2. Использование куки требует закрыть браузер, поэтому:

- chrome - для расширения
- firefox - для куки

## Дисклеймер

Проект предназначен исключительно для личного использования, исследовательских и образовательных целей.

Автор не поощряет и не поддерживает нарушение авторских прав, условий использования сервисов или законодательства.

Ответственность за использование проекта, соблюдение законов своей страны и правил сервиса Яндекс Музыка полностью лежит
на пользователе.